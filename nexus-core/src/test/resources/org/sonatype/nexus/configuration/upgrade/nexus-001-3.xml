<?xml version="1.0" encoding="utf-8"?>
<nexusConfiguration>
    <version>1.0</version>
    <workingDirectory>/dat/maven/mvnrepos</workingDirectory>
    <applicationLogDirectory>${basedir}/logs/</applicationLogDirectory>
    <security>
        <enabled>true</enabled>
        <anonymousAccessEnabled>true</anonymousAccessEnabled>
        <authenticationSource>
            <type>properties</type>
            <properties>
                <property>
                    <key>propertiesFile</key>
                    <value>${basedir}/conf/users.auth</value>
                </property>
            </properties>
        </authenticationSource>
        <realms>
            <!-- These are actually REALMS, but with same users coming from aforementioned authSource -->
            <realm>
                <id>dec.central</id>
                <type>properties</type>
                <properties>
                    <property>
                        <key>propertiesFile</key>
                        <value>${basedir}/conf/realm.dec.central</value>
                    </property>
                </properties>
            </realm>
             <realm>
                <id>dec.dev</id>
                <type>properties</type>
                <properties>
                    <property>
                        <key>propertiesFile</key>
                        <value>${basedir}/conf/realm.dec.dev</value>  
                    </property>
                </properties>
            </realm>
             <realm>
                <id>dec.release</id>
                <type>properties</type>
                <properties>
                    <property>
                        <key>propertiesFile</key>
                        <value>${basedir}/conf/realm.dec.release</value>  
                    </property>
                </properties>
            </realm>
             <realm>
                <id>dec.oss-com</id>
                <type>properties</type>
                <properties>
                    <property>
                        <key>propertiesFile</key>
                        <value>${basedir}/conf/realm.dec.oss-com</value>  
                    </property>
                </properties>
            </realm> 
         </realms>
    </security>
<routing>
   <groups>
    <pathMapping>
       <exclusions>
         <!--dec artifacts are not in the public repos. Don't look there.-->
         <exclusion> 
           <key>.*/com/dec/.*</key>
           <value>central,central.snapshot</value>
         </exclusion>
         <exclusion>
           <key>.*/net/someproject/.*</key>
           <value>central,central.snapshot</value>
         </exclusion>
       </exclusions> 
    </pathMapping> 
   </groups>
</routing>
<!--  Global HTTP Proxy settings-->
		<globalHttpProxySettings>
		<proxyHostname>proxyhost</proxyHostname>
		<proxyPort>8080</proxyPort>
		</globalHttpProxySettings>
	

    <repositories>
        <!-- PUBLIC REPOSITORIES -->
        <repository>
            <id>central</id>
            <name>Maven Central</name>
            <available>true</available>
            <readOnly>true</readOnly>
            <browseable>true</browseable>
            <offline>false</offline>
            <indexable>true</indexable>
            <notFoundCacheTTL>86400</notFoundCacheTTL>
            <!--don't keep looking for releases that exist. ttl is 6 days-->
            <itemMaxAge>518400</itemMaxAge>
            <shouldServeReleases>true</shouldServeReleases>
            <shouldServeSnapshots>false</shouldServeSnapshots>
            <realmId>dec.central</realmId>
            <remoteStorage>
                <url>http://192.168.1.1:8443/nexus/groups/public</url>
            </remoteStorage>
        </repository>
        <!-- SNAPSHOT REPOSITORIES -->
        <repository>
            <id>central.snapshot</id>
            <name>Maven Central Snapshots</name>
            <available>true</available>
            <readOnly>true</readOnly>
            <browseable>true</browseable>
            <offline>false</offline>
            <indexable>true</indexable>
            <notFoundCacheTTL>46400</notFoundCacheTTL>
            <itemMaxAge>60</itemMaxAge>
            <shouldServeReleases>false</shouldServeReleases>
            <shouldServeSnapshots>true</shouldServeSnapshots>
            <realmId>dec.central</realmId>
            <remoteStorage>
                <url>http://192.168.1.1:8443/nexus/groups/snapshot</url>
            </remoteStorage>
        </repository>
        <!-- PRIVATE REPOSITORIES -->
        <repository>
            <id>release</id>
            <name>Release</name>
            <available>true</available>
            <readOnly>false</readOnly>
            <browseable>true</browseable>
            <offline>false</offline>
            <indexable>true</indexable>
            <notFoundCacheTTL>86400</notFoundCacheTTL>
            <itemMaxAge>86400</itemMaxAge>
            <shouldServeReleases>true</shouldServeReleases>
            <shouldServeSnapshots>false</shouldServeSnapshots>
            <realmId>dec.release</realmId>
        </repository>
        <repository>
            <id>commercial</id>
            <name>Commercial Software</name>
            <available>true</available>
            <readOnly>false</readOnly>
            <browseable>true</browseable>
            <offline>false</offline>
            <indexable>true</indexable>
            <notFoundCacheTTL>86400</notFoundCacheTTL>
            <itemMaxAge>86400</itemMaxAge>
            <shouldServeReleases>true</shouldServeReleases>
            <shouldServeSnapshots>false</shouldServeSnapshots>
            <realmId>dec.oss-com</realmId>
        </repository>
        <repository>
            <id>team</id>
            <name>Team</name>
            <available>true</available>
            <readOnly>false</readOnly>
            <browseable>true</browseable>
            <offline>false</offline>
            <indexable>true</indexable>
            <notFoundCacheTTL>86400</notFoundCacheTTL>
            <itemMaxAge>86400</itemMaxAge>
            <shouldServeReleases>true</shouldServeReleases>
            <shouldServeSnapshots>false</shouldServeSnapshots>
            <realmId>dec.dev</realmId>
        </repository>
        <repository>
            <id>snapshot</id>
            <name>Snapshots</name>
            <available>true</available>
            <readOnly>false</readOnly>
            <browseable>true</browseable>
            <offline>false</offline>
            <indexable>true</indexable>
            <notFoundCacheTTL>86400</notFoundCacheTTL>
            <itemMaxAge>86400</itemMaxAge>
            <shouldServeReleases>false</shouldServeReleases>
            <shouldServeSnapshots>true</shouldServeSnapshots>
            <realmId>dec.dev</realmId>
        </repository>
        <repository>
            <id>opensource</id>
            <name>Modified OSS</name>
            <available>true</available>
            <readOnly>false</readOnly>
            <browseable>true</browseable>
            <offline>false</offline>
            <indexable>true</indexable>
            <notFoundCacheTTL>86400</notFoundCacheTTL>
            <itemMaxAge>86400</itemMaxAge>
            <shouldServeReleases>true</shouldServeReleases>
            <shouldServeSnapshots>false</shouldServeSnapshots>
            <realmId>dec.oss-com</realmId>
        </repository>
    </repositories>
    
  <repositoryGroups>
		<repositoryGroup>
			<groupId>torrent</groupId>
			<repositories>
				<repository>release</repository>
				<repository>team</repository>
				<repository>commercial</repository>
				<repository>opensource</repository>
				<repository>central</repository>
				<repository>snapshot</repository>
			</repositories>
		</repositoryGroup>
		<repositoryGroup>
			<groupId>public.snapshot</groupId>
			<repositories>
				<repository>central.snapshot</repository>
			</repositories>
		</repositoryGroup>
	</repositoryGroups>
    
</nexusConfiguration>
